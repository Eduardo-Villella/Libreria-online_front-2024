<!DOCTYPE html><!-- Define el tipo de documento como HTML5 -->
<html lang="es"><!-- Lenguaje en pantalla y navegadores -->

<head>
    <meta charset="UTF-8"><!-- Codificacion y reconocimiento de caracteres -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"><!-- Adaptabilidad para dispositivos moviles -->
    <link rel="shortcut icon" href="image/logo-pagina.png" type="image/x-icon"><!-- Icono para la pestaña del navegador -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous"><!-- Referencia a recursos externos, aqui carga recursos de bootstrap -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"><!-- Referencia a recursos externos, aqui carga iconos de bootstrap -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"><!-- Referencia a recursos externos, aqui carga recursos de font-awesome -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pikaday/css/pikaday.css"><!-- Referencia a recursos externos, aqui carga recursos de Pikaday para formatos de date -->
    <link rel="stylesheet" href="./css/admin_styles.css"><!-- Referencia a recursos internos, aqui carga diseños del archivo css admin_styles -->
    <title>C E I J Libros Administración Usuarios</title><!-- Titulo que aparece en la pestaña del navegador -->
    <!-- Otras etiquetas comunes en el head -->
    <meta name="author" content="E V"><!-- Especifica el autor del documento -->
    <meta name="description" content="venta de libros"><!-- Proporciona una descripcion del contenido de la pagina, util para SEO -->
    <meta name="keywords" content="libro, libros, comprar, compra, ventas, venta"><!-- Define palabras clave relacionadas con el contenido de la pagina para SEO -->
    <meta name="robots" content="index, follow"><!-- Indica a los motores de busqueda como deben indexar, es decir, incluir la pagina en sus resultados de busqueda; y follow: Indica que deben seguir los enlaces en la pagina -->
    <link rel="canonical" href="http://localhost:8080/index.js"><!-- Define la URL canonica: la versión principal de la pagina que debe indexar-->
</head>

<body>
    <!-- HEADER -->
    <!-- Sidebar -->
    <nav id="sidebar" class="bg-dark text-white">
        <div class="p-4">
            <h4>Menu</h4>
            <ul class="nav flex-column">
                <li class="nav-item">
                    <a id="nav-link" class="nav-link text-white" href="admin_books.html">Libros</a>
                </li>
                <li class="nav-item">
                    <a id="nav-link" class="nav-link text-white" href="admin_users.html">Usuarios</a>
                </li>
                <li class="nav-item">
                    <a id="nav-link" class="nav-link text-white" href="Facturación.html">Facturación</a>
                </li>
                <li class="nav-item">
                    <a id="nav-link" class="nav-link text-white" href="#">Pedidos</a>
                </li>
                <li class="nav-item">
                    <a id="nav-link" class="nav-link text-white" href="#">Envios</a>
                </li>
                <li class="nav-item">
                    <a id="nav-link" class="nav-link text-white" href="catalogo.html">Catálogo</a>
                </li>
                <li class="nav-item">
                    <a id="nav-link" class="nav-link text-white" href="#">Otros</a>
                </li>
                <li class="nav-item">
                    <a id="nav-link" class="nav-link text-white" href="admin_dashboard.html">Administración</a>
                </li>
            </ul>
        </div>
    </nav>

    <!-- Content Area -->
    <div id="content">
        <!-- Topbar -->
        <div id="topbar">
            <nav class="navbar navbar-expand-lg"><!-- elimio navbar-light bg-light para manejo de colores -->
                <div class="d-flex w-100 align-items-center justify-content-between">
                    <!-- Sidebar toggle button -->
                    <button id="toggle-btn" class="btn btn-secondary" type="button">
                        <i class="fas fa-bars"></i>
                    </button>
                    <!-- Centered Title with Logo -->
                    <a class="navbar-brand mx-auto text-center" href="#">
                        <!--<marquee behavior="" direction="">behavior="scroll, slide o alternate" direction="right, left, down o up"-->
                        Administración<img src="image/logo-pagina.png" alt="" width="40px" height="40px">Usuarios
                        <!--</marquee>-->
                    </a>
                    <!-- Profile Section -->
                    <div class="perfil-container" id="perfilContainer">
                        <img src="image/users/user-perfil-sinLogin.png" id="perfilPic" alt="Perfil" class="perfil-pic">
                        <span class="perfil-hover-message" id="perfilHoverMessage">Perfil</span>
                        <div class="dropdown-container" style="position: relative;">
                            <div id="dropdownMenu" class="dropdown-menu" style="display: none;"></div> <!-- Contenedor para el menú -->
                        </div>
                    </div>
                </div>
            <!-- DESDE AQUI MOSTAR SOLO EN ADMIN_USER -->
                <!-- New Row for Search and New User Button -->
                <div class="d-flex w-100 mt-2 align-items-center justify-content-between">
                    <!-- Search Input -->
                    <div class="col-md-6 d-flex align-items-center"><!--agregado d-flex align-items-center-->
                        <div class="input-group">
                            <input type="text" class="form-control" placeholder="Buscar usuarios..." aria-label="Buscar usuarios">
                            <button class="btn btn-search btn-sm" type="button">
                                <i class="fas fa-search"></i> Buscar
                            </button>
                        </div>
                    </div>
                    <!-- New User Button -->
                    <div class="col-md-6 text-center">
                        <button class="btn btn-success btn-sm" data-bs-toggle="modal" data-bs-target="#addUserModal">
                            <i class="fas fa-plus"></i> Nuevo Usuario
                        </button>
                    </div>
                </div>
            <!-- HASTA AQUI MOSTAR SOLO EN ADMIN_USER -->
            </nav>
        </div>

        <!-- MAIN -->
         <div id="tableAllUser">
            <div class="container mt-5"></div>
                <div class="table-wrapper">
                    <div class="table-scroll-wrapper">
                        <div class="table-scroll">
                            <table class="table table-striped">
                                <thead>
                                    <tr>
                                        <th>Acciones</th>
                                        <th>Imagen</th>
                                        <th>Nombre imagen</th>
                                        <th>ID</th>
                                        <th>usuario</th>
                                        <th>Email</th>
                                        <th>Contraseña</th>
                                        <th>Nombre</th>
                                        <th>Apellido</th>
                                        <th>Fecha de nacimiento</th>
                                        <th>Telefono</th>
                                        <th>Direccion</th>
                                        <th>Ciudad</th>
                                        <th>Provincia</th>
                                        <th>Pais</th>
                                        <th>Codigo Postal</th>
                                        <th>Rol</th>
                                        <th>Estado</th>
                                    </tr>
                                </thead>
                                <tbody id="usersTableBody">
                                    <!-- Filas de usuarios generadas dinamicamente td -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- View User Modal-->
    <div class="modal fade detalles" id="viewUserModal" tabindex="-1" aria-labelledby="viewUserModalLabel"><!-- aria-hidden="true" -->
        <div class="modal-dialog modal-fullscreen">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="viewUserModalLabel">Detalles del Usuario</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="container-fluid">
                        <div class="row">
                            <div class="col-md-8">
                                <h5><strong>.</strong> <span id="viewUserImage"></span></h5>
                                <h5><strong>Link: </strong> <span id="viewUserLink"></span></h5>
                                <h5><strong>ID: </strong><span id="viewUserID"></span></h5>
                                <h5><strong>Usuario: </strong><span id="viewUserUser"></span></h5>
                                <h5><strong>Email: </strong><span id="viewUserEmail"></span></h5>
                                <h5><strong>Contraseña: </strong><span id="viewUserPass"></span></h5>
                                <h5><strong>Nombre: </strong><span id="viewUserNombre"></span></h5>
                                <h5><strong>Apellido: </strong><span id="viewUserUserName"></span></h5>
                                <h5><strong>Fecha de nacimiento: </strong> <span id="viewUserDate"></span></h5>
                                <h5><strong>Telefono: </strong> <span id="viewUserTelephone"></span></h5>
                                <h5><strong>Direccion: </strong> <span id="viewUserAndrew"></span></h5>
                                <h5><strong>Ciudad: </strong> <span id="viewUserCity"></span></h5>
                                <h5><strong>Provincia: </strong> <span id="viewUserProvince"></span></h5>
                                <h5><strong>Pais: </strong> <span id="viewUserCountry"></span></h5>
                                <h5><strong>Codigo Postal: </strong> <span id="viewUserPostalCode"></span></h5>
                                <h5><strong>Rol: </strong> <span id="viewUserRol"></span></h5>
                                <h5><strong>Estado: </strong> <span id="viewUserStatus"></span></h5>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Edit User Modal -->
    <div class="modal fade" id="editUserModal" tabindex="-1" aria-labelledby="editUserModalLabel"><!-- aria-hidden="true"-->
        <div class="modal-dialog modal-fullscreen">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="editUserModalLabel">Editar Usuario</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="editUserForm" enctype="multipart/form-data">

                        <div class="mb-3">
                            <label for="editUserImage" class="form-label">Imagen de Perfil</label>
                            <img id="currentUserImage" src="" alt="Imagen actual" class="img-fluid mt-2" style="max-width: 150px; max-height: 150px;">
                            <small class="form-text text-muted">Imagen de 500 KB máx. y dimensiones de 1024x1024 máx.</small>
                            <input type="file" name='file' class="form-control" id="editUserFile" accept="image/*">
                        </div>
                        <div class="mb-3">
                            <label for="editUserLink" class="form-label">Link</label>
                            <input type="text" class="form-control" id="editUserLink" readonly>
                        </div>
                        <div class="mb-3">
                            <label for="editUserID" class="form-label">ID</label>
                            <input type="text" class="form-control" id="editUserID" readonly>
                        </div>
                        <div class="mb-3">
                            <label for="editUserUser" class="form-label">Usuario</label>
                            <input type="text" class="form-control" id="editUserUser">
                            <div id="errorEditUserUser" class="invalid-feedback" style="color: red;"></div>
                        </div>
                        <div class="mb-3">
                            <label for="editUserEmail" class="form-label">Email</label>
                            <input type="email" class="form-control" id="editUserEmail" readonly>
                        </div>
                        <div class="mb-3">
                            <label for="editUserPass" class="form-label">Contraseña</label>
                            <input type="password" class="form-control" id="editUserPassword" readonly> 
                        </div>
                        <div class="mb-3">
                            <label for="editUserNombre" class="form-label">Nombre</label>
                            <input type="text" class="form-control" id="editUserNombre">
                        </div>
                        <div class="mb-3">
                            <label for="editUserApellido" class="form-label">Apellido</label>
                            <input type="text" class="form-control" id="editUserApellido">
                        </div>
                        <div class="mb-3">
                            <label for="editUserFechaNacimiento" class="form-label">Fecha de Nacimiento</label>
                            <input type="text" class="form-control" id="editUserFechaNacimiento">
                        </div>
                        <div class="mb-3">
                            <label for="editUserTelefono" class="form-label">Teléfono</label>
                            <input type="text" class="form-control" id="editUserTelefono">
                        </div>
                        <div class="mb-3">
                            <label for="editUserDireccion" class="form-label">Dirección</label>
                            <input type="text" class="form-control" id="editUserDireccion">
                        </div>
                        <div class="mb-3">
                            <label for="editUserCiudad" class="form-label">Ciudad</label>
                            <input type="text" class="form-control" id="editUserCiudad">
                        </div>
                        <div class="mb-3">
                            <label for="editUserProvincia" class="form-label">Provincia</label>
                            <input type="text" class="form-control" id="editUserProvincia">
                        </div>
                        <div class="mb-3">
                            <label for="editUserPais" class="form-label">País</label>
                            <input type="text" class="form-control" id="editUserPais">
                        </div>
                        <div class="mb-3">
                            <label for="editUserCodigoPostal" class="form-label">Código Postal</label>
                            <input type="text" class="form-control" id="editUserCodigoPostal">
                        </div>
                        <div class="mb-3">
                            <label for="editUserRol" class="form-label">Rol</label>
                            <input type="text" class="form-control" id="editUserRol">
                        </div>
                        <div class="mb-3">
                            <label for="editUserStatus" class="form-label">Estado</label>
                            <input type="text" class="form-control" id="editUserStatus">
                        </div>

                        <button type="submit" class="btn btn-primary">Guardar Cambios</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Add User Modal -->
    <div class="modal fade" id="addUserModal" tabindex="-1" aria-labelledby="addUserModalLabel">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="addUserModalLabel">Agregar Usuario</h5>
                    <button type="button" class="btn-close" id="closeAddUserModal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="addUserForm" enctype="multipart/form-data">

                        <div class="mb-3">
                            <label for="addUserImage" class="form-label">Imagen de Perfil</label>
                            <input type="file" class="form-control" id="addUserImage" name="file" accept="image/*">
                            <small class="form-text text-muted">Imagen de 500 KB máx. y dimensiones de 1024x1024 máx.</small>
                        </div>
                        <div class="col-md-3"></div>
                            <img src="" alt="preview" id="image-preview" class="img-thumbnail">
                        </div>
                        <!--<div class="mb-3">
                            <label for="addUserLink" class="form-label">Link</label>
                            <input type="text" class="form-control" id="addUserLink" readonly>
                        </div>
                        <div class="mb-3">
                            <label for="addUserID" class="form-label">ID</label>
                            <input type="text" class="form-control" id="addUserID" name="id_usuarios" readonly>
                        </div>-->
                        <div class="mb-3">
                            <label for="addUserUser" class="form-label">Usuario</label>
                            <input type="text" class="form-control" id="addUserUser" name="usuario" required>
                            <div id="errorAddUserUser" class="invalid-feedback" style="color: red;"></div>
                        </div>
                        <div class="mb-3">
                            <label for="addUserEmail" class="form-label">Email</label>
                            <input type="email" class="form-control" id="addUserEmail" name="email" required autocomplete="new-email">
                            <div id="errorEmail" class="invalid-feedback" style="color: red;"></div>
                        </div>
                        <div class="mb-3">
                            <label for="password" class="form-label">Ingrese contraseña</label>
                            <div class="input-container">
                                <div class="input-wrapper">
                                    <input type="password" class="form-control" id="password" name="password" placeholder="Contraseña" required autocomplete="new-password">
                                        <button type="button" id="togglePassword">
                                            <i id="passwordIcon" class="fa fa-eye"></i>
                                        </button>
                                        <div id="errorPassword" class="invalid-feedback" style="color: red;"></div>
                                </div>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="confirmPassword" class="form-label">Repetir contraseña</label>
                            <div class="input-container">
                                <div class="input-wrapper">
                                    <input type="password" class="form-control" id="confirmPassword" name="confirmPassword" placeholder="repetir contraseña" required autocomplete="new-password">
                                        <button type="button" id="toggleConfirmPassword">
                                            <i id="confirmPasswordIcon" class="fa fa-eye"></i>
                                        </button>
                                        <div id="errorConfirmPassword" class="invalid-feedback" style="color: red;"></div>
                                </div>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="addUserNombre" class="form-label">Nombre</label>
                            <input type="text" class="form-control" id="addUserNombre" name="nombre">
                        </div>
                        <div class="mb-3">
                            <label for="addUserApellido" class="form-label">Apellido</label>
                            <input type="text" class="form-control" id="addUserApellido" name="apellido">
                        </div>
                        <div class="mb-3">
                            <label for="addUserFechaNacimiento" class="form-label">Fecha de Nacimiento</label>
                            <input type="text" class="form-control" id="addUserFechaNacimiento" name="fecha_nacimiento">
                        </div>
                        <div class="mb-3">
                            <label for="addUserTelefono" class="form-label">Teléfono</label>
                            <input type="text" class="form-control" id="addUserTelefono" name="telefono">
                        </div>
                        <div class="mb-3">
                            <label for="addUserDireccion" class="form-label">Dirección</label>
                            <input type="text" class="form-control" id="addUserDireccion" name="direccion">
                        </div>
                        <div class="mb-3">
                            <label for="addUserCiudad" class="form-label">Ciudad</label>
                            <input type="text" class="form-control" id="addUserCiudad" name="ciudad">
                        </div>
                        <div class="mb-3">
                            <label for="addUserProvincia" class="form-label">Provincia</label>
                            <input type="text" class="form-control" id="addUserProvincia" name="provincia">
                        </div>
                        <div class="mb-3">
                            <label for="addUserPais" class="form-label">País</label>
                            <input type="text" class="form-control" id="addUserPais" name="pais">
                        </div>
                        <div class="mb-3">
                            <label for="addUserCodigoPostal" class="form-label">Código Postal</label>
                            <input type="text" class="form-control" id="addUserCodigoPostal" name="codigo_postal">
                        </div>
                        <div class="mb-3">
                            <label for="addUserRol" class="form-label">Rol</label>
                            <input type="text" class="form-control" id="addUserRol" name="rol">
                        </div>
                        <div class="mb-3">
                            <label for="addUserStatus" class="form-label">Estado</label>
                            <input type="text" class="form-control" id="addUserStatus" name="status">
                        </div>

                        <button type="submit" class="btn btn-primary">Guardar Usuario</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    
    <!-- Script -->
     
    <script src="https://cdn.jsdelivr.net/npm/moment@2.29.4/min/moment.min.js"></script><!-- Moment.js para soporte de formateo de fechas -->
    <script src="https://cdn.jsdelivr.net/npm/moment@2.29.4/locale/es.js"></script><!-- Soporte para idioma español de moment -->
    <script src="https://cdn.jsdelivr.net/npm/pikaday/pikaday.js"></script><!-- Pikaday JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/sweetalert2.all.min.js"></script>
    <script src="js/common.js"></script>
    <script src="js/users.js"></script>
    <script src="js/password.js"></script>

</body>

</html>

